{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="locationbar ml-2">
    <span>Resource Management &nbsp;&nbsp;>&nbsp;&nbsp;Integreation &nbsp;&nbsp;>&nbsp;&nbsp;<a href="/integration/registration/">Registration</a> &nbsp;&nbsp;>&nbsp;&nbsp;</span>
    <span class="current">Network Transmission<span>
</div>
<div>
    <!-- Page Heading -->
    <h6 class="h3 mb-2 ml-2 font-weight-bold text-gray-800">Integrate Network Transmission</h6>
    <p class="h6 mb-4 ml-2">Integrate Network Transmission Logs To Teiren Cloud</p>
    <!-- Begin Page Content -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <div style="float: left">
                <h6 class="m-0 font-weight-bold text-teiren">
                    Verify Network Transmission Account
                </h6>
            </div>
        </div>
        <div class="card-body" style="font-size:12px">
            <form method="POST" id='account_form'>
                <div class="form-group text-teiren">Network Transmission Protocol
                    <div class="form-group text-dark">
                        <input type='text' class="form-control" id="protocol" name="protocol" placeholder="Network Transmission Protocol">
                    </div>
                </div>
                <div class="form-group text-teiren">Network Transmission Source IP
                    <div class="form-group text-dark">
                        <input type='text' class="form-control" id="source_ip" name="source_ip" placeholder="Network Transmission Source IP">
                    </div>
                </div>
                <div class="form-group text-teiren">Network Transmission Destination Port
                    <div class="form-group text-dark">
                        <input type='text' class="form-control" id="dst_port" name="dst_port" placeholder="Network Transmission Destination Port">
                    </div>
                </div>
                <div class="form-group text-teiren">Network Transmission Log Tag
                    <div class="form-group text-dark">
                        <input type='text' class="form-control" id="log_tag" name="log_tag" placeholder="Network Transmission Log Tag">
                    </div>
                </div>
                <input type="button" class="btn btn-outline-primary" onclick="register()" id='form-check' value="Confirm Network Transmission Information"/>
            </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block script %}
<script>
    function register(){
        $.ajax({
            url: 'insert/',
            headers:{
                'X-CSRFToken': '{{csrf_token}}'
            },
            type: 'post',
            data: $('#account_form').serialize()
        }).done(function(response){
            alert(response)
            if(respone.startsWith('Configuration')){
                location.reload()
            }
        })
    }    
</script>
{% endblock %}